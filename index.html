<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">

    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/github-dark.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/print.css" media="print">

    <title>Logswan by fcambus</title>
  </head>

  <body>

    <header>
      <div class="container">
        <h1>Logswan</h1>
        <h2>Web log analyzer using probabilistic data structures</h2>

        <section id="downloads">
          <a href="https://github.com/fcambus/logswan/zipball/master" class="btn">Download as .zip</a>
          <a href="https://github.com/fcambus/logswan/tarball/master" class="btn">Download as .tar.gz</a>
          <a href="https://github.com/fcambus/logswan" class="btn btn-github"><span class="icon"></span>View on GitHub</a>
        </section>
      </div>
    </header>

    <div class="container">
      <section id="main_content">
        <pre><code>                                _____
                            .xiX*****Xix.
                          .X7'        '4Xk,
                         dXl            'XX.        .
                        xXXl             XXl        .
                        4XXX             XX'
                       .  ,x            iX'   _,,xxii
                       |   Â²|        ,iX7,xiiXXXXXXXl
                       |          .xi,xiXXXXXXXXXXXX:
                       .      ..iXXiXXXXXXXXXXXXXXX7.
                       .    .xXXXXXXXXXXXXXXX'XXXX7 .
                       |   ,XXXXXXXXXXXXXXXX'XXX7'  |
                       :  .XXXXX7*'"' 2XXX7'XX7'    |
  __/ \     _____    ____  \XX' _____  47'  ___  ___      _____     __
.\\_   \___/  _  \__/  _/_______\  _/______/  /  \  \____/  _  \___/  \  _____
. /     __    Y _ __   \__  _________  _____  \/\/   ____ _ _   ______ \/ __///
:/       /    |    \    |'   \/   \/    \/            \/    Y    \/   \    \  :
|\______/\_________/____|    /\____     /\_____/\_____/\____|____/\____\___/  |
+--------------------- \____/ --- \____/ ----:----------------------h7/dS!----+
                       .                     |      :
                       : .                   :      |
                       | .     Logswan       .      |
                       | :                       .  |
                       |_|_______________________|__|
                         |                       :
                                                 .
</code></pre>

<h1>
<a id="logswan" class="anchor" href="#logswan" aria-hidden="true"><span class="octicon octicon-link"></span></a>Logswan</h1>

<p>Logswan is a fast Web log analyzer using probabilistic data structures. It is targeted at very large log files, typically APIs logs. It has constant memory usage regardless of the log file size, and takes approximatively 4MB of RAM.</p>

<p>Unique visitors counting is performed using two HyperLogLog counters (one for IPv4, and another one for IPv6), providing a relative accuracy of 0.10%.</p>

<p>Project design goals include : speed, memory-usage efficiency, and keeping the code as simple as possible.</p>

<p>Logswan is <strong>opinionated software</strong> :</p>

<ul>
<li>It only supports the Common Log Format, in order to keep the parsing code simple</li>
<li>It does not split results per day, but log files can be split prior to being processed</li>
</ul>

<h2>
<a id="features" class="anchor" href="#features" aria-hidden="true"><span class="octicon octicon-link"></span></a>Features</h2>

<p>Currently implemented features :</p>

<ul>
<li>Counting number of processed lines / invalid lines</li>
<li>Counting number of hits (IPv4 and IPv6 hits)</li>
<li>Counting bandwidth used</li>
<li>Counting log file size</li>
<li>GeoIP lookups (for both IPv4 and IPv6)</li>
<li>HTTP status codes distribution</li>
<li>Hourly hits distribution</li>
<li>Counting hits per protocol (HTTP/1.0 or HTTP/1.1)</li>
<li>Counting hits per HTTP Method</li>
<li>Counting visits (unique IP addresses for both IPv4 and IPv6)</li>
</ul>

<h2>
<a id="dependencies" class="anchor" href="#dependencies" aria-hidden="true"><span class="octicon octicon-link"></span></a>Dependencies</h2>

<p>Logswan uses the <code>CMake</code> build system and requires <code>GeoIP</code> and <code>Jansson</code> libraries and header files.</p>

<h2>
<a id="installing-dependencies" class="anchor" href="#installing-dependencies" aria-hidden="true"><span class="octicon octicon-link"></span></a>Installing dependencies</h2>

<ul>
<li>OpenBSD : <code>pkg_add -r cmake GeoIP jansson</code>
</li>
<li>NetBSD : <code>pkgin install cmake GeoIP jansson</code>
</li>
<li>Mac OS X : <code>brew install cmake geoip jansson</code>
</li>
<li>Alpine Linux : <code>apk add cmake gcc make musl-dev geoip-dev jansson-dev</code>
</li>
<li>Debian / Ubuntu : <code>apt-get install build-essential cmake libgeoip-dev libjansson-dev</code>
</li>
</ul>

<h2>
<a id="compiling" class="anchor" href="#compiling" aria-hidden="true"><span class="octicon octicon-link"></span></a>Compiling</h2>

<pre><code>cmake .
make
</code></pre>

<p>Logswan has been sucessfully compiled and tested on Mac OS X, OpenBSD, NetBSD, and Linux with both Clang and GCC.</p>

<h2>
<a id="installation" class="anchor" href="#installation" aria-hidden="true"><span class="octicon octicon-link"></span></a>Installation</h2>

<p>Logswan packages are available for :</p>

<h3>
<a id="pkgsrc-netbsd-smartos-mac-os-x-etc" class="anchor" href="#pkgsrc-netbsd-smartos-mac-os-x-etc" aria-hidden="true"><span class="octicon octicon-link"></span></a>Pkgsrc (NetBSD, SmartOS, Mac OS X, etc.)</h3>

<pre><code>pkgin install logswan
</code></pre>

<h3>
<a id="geoip-databases" class="anchor" href="#geoip-databases" aria-hidden="true"><span class="octicon octicon-link"></span></a>GeoIP databases</h3>

<p>Logswan requires the free GeoLite databases to be installed in <code>/usr/local/share/GeoIP</code>.
Files can be downloaded here : <a href="http://dev.maxmind.com/geoip/legacy/geolite/">http://dev.maxmind.com/geoip/legacy/geolite/</a></p>

<h4>
<a id="for-ipv4-support-only-" class="anchor" href="#for-ipv4-support-only-" aria-hidden="true"><span class="octicon octicon-link"></span></a>For IPv4 support only :</h4>

<pre><code>mkdir -p /usr/local/share/GeoIP
cd /usr/local/share/GeoIP
wget https://geolite.maxmind.com/download/geoip/database/GeoLiteCountry/GeoIP.dat.gz
gunzip *gz
</code></pre>

<h4>
<a id="for-ipv4-and-ipv6-support-" class="anchor" href="#for-ipv4-and-ipv6-support-" aria-hidden="true"><span class="octicon octicon-link"></span></a>For IPv4 and IPv6 support :</h4>

<pre><code>mkdir -p /usr/local/share/GeoIP
cd /usr/local/share/GeoIP
wget https://geolite.maxmind.com/download/geoip/database/GeoLiteCountry/GeoIP.dat.gz
wget https://geolite.maxmind.com/download/geoip/database/GeoIPv6.dat.gz
gunzip *gz
</code></pre>

<h2>
<a id="usage" class="anchor" href="#usage" aria-hidden="true"><span class="octicon octicon-link"></span></a>Usage</h2>

<pre><code>USAGE : logswan [options] inputfile
</code></pre>

<p>Options are :</p>

<pre><code>-h Display usage
-v Display version
</code></pre>

<h2>
<a id="license" class="anchor" href="#license" aria-hidden="true"><span class="octicon octicon-link"></span></a>License</h2>

<p>Logswan is released under the BSD 3-Clause license. See <code>LICENSE</code> file for details.</p>

<h2>
<a id="author" class="anchor" href="#author" aria-hidden="true"><span class="octicon octicon-link"></span></a>Author</h2>

<p>Logswan is developed by Frederic Cambus</p>

<ul>
<li>Site : <a href="http://www.cambmus.net">http://www.cambus.net</a>
</li>
<li>Twitter: <a href="http://twitter.com/fcambus">http://twitter.com/fcambus</a>
</li>
</ul>

<h2>
<a id="resources" class="anchor" href="#resources" aria-hidden="true"><span class="octicon octicon-link"></span></a>Resources</h2>

<p>Project Homepage : <a href="http://www.logswan.org">http://www.logswan.org</a></p>

<p>GitHub : <a href="https://github.com/fcambus/logswan">https://github.com/fcambus/logswan</a></p>
      </section>
    </div>

    
  </body>
</html>
